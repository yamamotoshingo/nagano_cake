<div class="container">
  <div class="row my-5">
    <div class="col-md-4 text-center">
      <h3><span style="background-color: silver">配送先登録/一覧</span></h3>
    </div>
  </div>

  <% if @address.errors.any? %>
　 <div id="error_explanation" class="w-50" style="border: 1.5px solid red">
　 <%= @address.errors.count %>件のエラーが発生しました
　   <ul class="mb-0">
　   <% @address.errors.full_messages.each do |message| %>
　     <li><%= message %></li>
　   <% end %>
　   </ul>
　 </div>
　<% end %>
  <%= form_with model: @address do |f| %>
  <div class="row field mb-2">
    <div class="col-md-2 px-0">
      <%= f.label :postal_code, "郵便番号(ハイフンなし)" %>
    </div>
    <div class="col-md-3">
      <%= f.text_field :postal_code, placeholder: "0000000", style: "width: 80%" %>
    </div>
  </div>

  <div class="row field mb-2">
    <div class="col-md-2 px-0">
      <%= f.label :address, "住所" %>
    </div>
    <div class="col-md-6 pr-0">
      <%= f.text_field :address, placeholder: "東京都渋谷区代々木神園町0-0", class: 'w-100' %>
    </div>
  </div>

  <div class="row field mb-5">
    <div class="col-md-2 px-0">
      <%= f.label :name, "宛名" %>
    </div>
    <div class="col-md-3">
      <%= f.text_field :name, placeholder: "令和道子", style: "width: 80%" %>
    </div>
    <div class="col-md-2 offset-md-3 px-0 actions">
      <%= f.submit "新規登録", class: 'btn btn-success w-75' %>
    </div>
  </div>
  <% end %>

  <div class="row">
    <div class="col-md-8 px-0">
      <table class="table table-bordered" style="border: 1.5px solid black">
        <thead style="background-color: silver">
          <tr>
            <th class="px-1" style="border: 1.5px solid black">郵便番号</th>
            <th class="px-1" style="border: 1.5px solid black">住所</th>
            <th class="px-1" style="border: 1.5px solid black; width: 15%">宛名</th>
            <th style="border: 1.5px solid black"></th>
          </tr>
        </thead>
        <tbody>
        <% @addresses.each do |address| %>
          <tr style="border-bottom: 1.5px solid black">
            <td class="px-1 align-middle" style="border-right: 1.5px solid black"><%= address.postal_code %></td>
            <td class="px-1 align-middle" style="border-right: 1.5px solid black"><%= address.address %></td>
            <td class="px-1 align-middle" style="border-right: 1.5px solid black"><%= address.name %></td>
            <td class="text-center">
              <%= link_to '編集する', edit_address_path(address.id), class: 'btn btn-success mr-3' %>
              <%= link_to '削除する', address_path(address.id), method: :delete, class: 'btn btn-danger' %>
            </td>
          </tr>
        <% end %>
       </tbody>
      </table>
    </div>
  </div>
</div>
